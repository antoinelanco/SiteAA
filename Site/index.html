<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- 

    <link rel="stylesheet" href="style.css">
    -->
    <title>Hi AA</title>
  </head>
  <body>
    <h1>Sup!</h1>
    <br><br>
    <p></p>

    <script>
      (async () => {
        const response = await fetch('https://api.github.com/repos/antoinelanco/SiteAA/contents/Site/json');
        const data = await response.json();

        for (let file of data) {

          (async () => {
            const response_raw = await fetch(file.download_url);
            const data_raw = await response_raw.json();

            let htmlString = '<br><h1>';
            htmlString += `<li><a href="${data_raw.url}">${data_raw.title}</a></li>`;
            htmlString += '</h1><br>-------------------<br>';

              htmlString += "Tags : ";
              for (let t of data_raw.tags){
                htmlString += t;
                htmlString += " ";
              }
              htmlString += "<br><br>";
              htmlString += data_raw.text;


            document.getElementsByTagName('p')[0].innerHTML += htmlString;

          })()
        }

      }) ()
    </script>

  </body>
</html>
